\hypertarget{_plane_segment_8hpp_source}{}\doxysection{Plane\+Segment.\+hpp}
\label{_plane_segment_8hpp_source}\index{/home/baptou/Documents/code/robots/RGB\_SLAM/RGB-\/D-\/SLAM/src/primitives\_detection/PlaneSegment.hpp@{/home/baptou/Documents/code/robots/RGB\_SLAM/RGB-\/D-\/SLAM/src/primitives\_detection/PlaneSegment.hpp}}
\mbox{\hyperlink{_plane_segment_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef PLANE\_SEGMENT\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define PLANE\_SEGMENT\_H }}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <Eigen/Dense>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_plane_segment_8hpp}{PlaneSegment.hpp}}"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacergbd__slam}{rgbd\_slam}} \{}
\DoxyCodeLine{10 \textcolor{keyword}{namespace }primitiveDetection \{}
\DoxyCodeLine{11 }
\DoxyCodeLine{15     \textcolor{keyword}{class }\mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}} \{}
\DoxyCodeLine{16         \textcolor{keyword}{public}:}
\DoxyCodeLine{23             \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a62b568e158ab8ca54d383999edc2ee14}{Plane\_Segment}}(\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cellWidth, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ptsPerCellCount);}
\DoxyCodeLine{24             \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a62b568e158ab8ca54d383999edc2ee14}{Plane\_Segment}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& seg);}
\DoxyCodeLine{25 }
\DoxyCodeLine{26             \textcolor{keywordtype}{void} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ae590cbfc8c858155068e64537ce54934}{init\_plane\_segment}}(\textcolor{keyword}{const} Eigen::MatrixXf\& depthCloudArray, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cellId);}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 }
\DoxyCodeLine{32             \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ae2bfa9a211f10e487acaa54fb42f4732}{is\_depth\_discontinuous}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& planeSegment);}
\DoxyCodeLine{33 }
\DoxyCodeLine{39             \textcolor{keywordtype}{void} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a5778316acb4e31bfc6cb926652eb2d4d}{expand\_segment}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& planeSegment);}
\DoxyCodeLine{40 }
\DoxyCodeLine{46             \textcolor{keywordtype}{void} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a5778316acb4e31bfc6cb926652eb2d4d}{expand\_segment}}(\textcolor{keyword}{const} std::unique\_ptr<Plane\_Segment>\& planeSegment);}
\DoxyCodeLine{47 }
\DoxyCodeLine{53             \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ad8718203282484d3aba63bda4d57ca60}{get\_normal\_similarity}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& p);}
\DoxyCodeLine{54 }
\DoxyCodeLine{58             \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ae2bb54f5a9750809d6fe9f87a66f1856}{get\_signed\_distance}}(\textcolor{keyword}{const} \textcolor{keywordtype}{double} point[3]);}
\DoxyCodeLine{59 }
\DoxyCodeLine{63             \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ae2bb54f5a9750809d6fe9f87a66f1856}{get\_signed\_distance}}(\textcolor{keyword}{const} Eigen::Vector3d\& point);}
\DoxyCodeLine{64 }
\DoxyCodeLine{68             \textcolor{keywordtype}{void} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a8a97c4150eb45f5844444f4171d425f7}{fit\_plane}}();   \textcolor{comment}{//fit a plane to this node points}}
\DoxyCodeLine{69 }
\DoxyCodeLine{73             \textcolor{keywordtype}{void} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ad6417a05d313873da29a8d2f18042d76}{clear\_plane\_parameters}}();    \textcolor{comment}{//clear node plane parameters  }}
\DoxyCodeLine{74 }
\DoxyCodeLine{75             EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \textcolor{keyword}{public}: \textcolor{comment}{//getters}}
\DoxyCodeLine{78                 \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a3b051733656c564d403ba6e2d2560c02}{get\_MSE}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_MSE; \};}
\DoxyCodeLine{79                 \textcolor{keyword}{const} Eigen::Vector3d\& \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a4a8f9e95f09d72cfca9df4e96e33d641}{get\_normal}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_normal; \};}
\DoxyCodeLine{80                 \textcolor{keyword}{const} Eigen::Vector3d\& \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a49d0c26f180e7bbeb411373e7c9986d5}{get\_mean}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_mean; \};}
\DoxyCodeLine{81                 \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_ac4c0934e59ba296d8c4a9f3ee888a091}{get\_plane\_d}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_d; \};}
\DoxyCodeLine{82                 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a6f38c0d21df7b8c5f9ef62405722037e}{is\_planar}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_isPlanar; \};}
\DoxyCodeLine{83                 \textcolor{keywordtype}{double} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment_a36aca554cd15d4b5ab049dc3470b1c32}{get\_score}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \_score; \};}
\DoxyCodeLine{84 }
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{keyword}{protected}:}
\DoxyCodeLine{87 }
\DoxyCodeLine{88         \textcolor{keyword}{private}:}
\DoxyCodeLine{89                 \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_ptsPerCellCount;  \textcolor{comment}{//max nb of points per initial cell}}
\DoxyCodeLine{90                 \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_minZeroPointCount;  \textcolor{comment}{//min acceptable zero points in a node}}
\DoxyCodeLine{91                 \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_cellWidth;}
\DoxyCodeLine{92                 \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_cellHeight;}
\DoxyCodeLine{93 }
\DoxyCodeLine{94                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \_pointCount;         \textcolor{comment}{//point count}}
\DoxyCodeLine{95                 \textcolor{keywordtype}{double} \_score;    \textcolor{comment}{//plane fitting score}}
\DoxyCodeLine{96                 \textcolor{keywordtype}{double} \_MSE;     \textcolor{comment}{//plane fitting mean square error}}
\DoxyCodeLine{97                 \textcolor{keywordtype}{bool} \_isPlanar;  \textcolor{comment}{//true if node represent a correct node, false: ignore node while mapping}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99                 Eigen::Vector3d \_mean;     \textcolor{comment}{//mean point of all points in node}}
\DoxyCodeLine{100                 Eigen::Vector3d \_normal;   \textcolor{comment}{//fitted plane normal}}
\DoxyCodeLine{101                 \textcolor{keywordtype}{double} \_d;           \textcolor{comment}{//fitted plane d param (ax + by + xz + d)}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103         \textcolor{keyword}{private}:}
\DoxyCodeLine{104 }
\DoxyCodeLine{105                 \textcolor{comment}{//PCA stored coeffs: efficient calculations of point cloud characteristics}}
\DoxyCodeLine{106                 \textcolor{keywordtype}{double} \_Sx;      \textcolor{comment}{//sum of x}}
\DoxyCodeLine{107                 \textcolor{keywordtype}{double} \_Sy;      \textcolor{comment}{//sum of y}}
\DoxyCodeLine{108                 \textcolor{keywordtype}{double} \_Sz;      \textcolor{comment}{//sum of z}}
\DoxyCodeLine{109                 \textcolor{keywordtype}{double} \_Sxs;     \textcolor{comment}{//sum of x squared}}
\DoxyCodeLine{110                 \textcolor{keywordtype}{double} \_Sys;     \textcolor{comment}{//sum of y squared}}
\DoxyCodeLine{111                 \textcolor{keywordtype}{double} \_Szs;     \textcolor{comment}{//sum of z squared}}
\DoxyCodeLine{112                 \textcolor{keywordtype}{double} \_Sxy;     \textcolor{comment}{//sum of x*y}}
\DoxyCodeLine{113                 \textcolor{keywordtype}{double} \_Syz;     \textcolor{comment}{//sum of y*z}}
\DoxyCodeLine{114                 \textcolor{keywordtype}{double} \_Szx;     \textcolor{comment}{//sum of z*x}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116         \textcolor{keyword}{private}:}
\DoxyCodeLine{117                 \textcolor{comment}{//prevent backend copy}}
\DoxyCodeLine{118                 \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classrgbd__slam_1_1primitive_detection_1_1_plane___segment}{Plane\_Segment}}\& seg);}
\DoxyCodeLine{119 }
\DoxyCodeLine{120     \};}
\DoxyCodeLine{121 }
\DoxyCodeLine{122 \}}
\DoxyCodeLine{123 \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
