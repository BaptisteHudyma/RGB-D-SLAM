\hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection}{}\doxysection{rgbd\+\_\+slam\+::features\+::primitives\+::Primitive\+\_\+\+Detection Class Reference}
\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection}\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}


Main extraction class. Extracts shape primitives from an organized cloud of points.  




{\ttfamily \#include $<$primitive\+\_\+detection.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a820def3cf19e327da91dd115f2df1ed9}{Primitive\+\_\+\+Detection}} (const uint width, const uint height, const uint bloc\+Size=20, const float min\+Cos\+Angle\+For\+Merge=0.\+9659f, const float max\+Merge\+Distance=50.\+0f)
\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_aeea3bf02c163af62c6f3e5be9078a6ae}{find\+\_\+primitives}} (const Eigen\+::\+Matrix\+Xf \&depth\+Matrix, \mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&primitive\+Segments)
\begin{DoxyCompactList}\small\item\em Main compute function\+: computes the primitives in the depth imahe. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9f64424ca0ce70414c2df2022c32dc7f}{$\sim$\+Primitive\+\_\+\+Detection}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1e6576f91cd41de4316f20c41cbf365a}{reset\+Time}}
\item 
double \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8e4334b78d47adf54a76b32812c18080}{init\+Time}}
\item 
double \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8bd7311ff1c1968b338c80fa710b5f18}{grow\+Time}}
\item 
double \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_afa8239c91447b7a5b6f2590a7024e5b1}{merge\+Time}}
\item 
double \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_acee4e990aaeeec273775cf0fc944fa61}{refine\+Time}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::vector$<$ std\+::pair$<$ int, int $>$ $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{intpair\+\_\+vector}}
\item 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_plane___segment}{Plane\+\_\+\+Segment}} $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}{plane\+\_\+segment\+\_\+unique\+\_\+ptr}}
\item 
typedef std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_cylinder___segment}{Cylinder\+\_\+\+Segment}} $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}{cylinder\+\_\+segment\+\_\+unique\+\_\+ptr}}
\item 
typedef std\+::vector$<$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}{plane\+\_\+segment\+\_\+unique\+\_\+ptr}} $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1c6de1dae1c5b4783520c1720ad1bd7b}{planes\+\_\+ptr\+\_\+vector}}
\item 
typedef std\+::vector$<$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}{cylinder\+\_\+segment\+\_\+unique\+\_\+ptr}} $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae175d07a6ac399887ee4cd473b76fa41}{cylinders\+\_\+ptr\+\_\+vector}}
\item 
typedef std\+::vector$<$ uint $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{uint\+\_\+vector}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a115d7b6c99fa776c20350d6c5be88524}{reset\+\_\+data}} ()
\begin{DoxyCompactList}\small\item\em Reset the stored data in prevision of another analysis. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a2432ff11db00aad60cdf4aac0a371c3d}{init\+\_\+planar\+\_\+cell\+\_\+fitting}} (const Eigen\+::\+Matrix\+Xf \&depth\+Cloud\+Array)
\begin{DoxyCompactList}\small\item\em Init plane\+Grid and cell\+Distance\+Tols. \end{DoxyCompactList}\item 
uint \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae722fbe4e5f4c84ce22ba26272a890ea}{init\+\_\+histogram}} ()
\begin{DoxyCompactList}\small\item\em Initialize and fill the histogram bins. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{intpair\+\_\+vector}} \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a6612a5c01bb67707842ab5b883f8231d}{grow\+\_\+planes\+\_\+and\+\_\+cylinders}} (const uint remaining\+Planar\+Cells)
\begin{DoxyCompactList}\small\item\em grow planes and find cylinders from those planes \end{DoxyCompactList}\item 
\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{uint\+\_\+vector}} \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a776295f859bf74f880c444ad54b3b5a1}{merge\+\_\+planes}} ()
\begin{DoxyCompactList}\small\item\em Merge close planes by comparing normals and MSE. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a7380a8da1013d394a0e890fc1ff9fa27}{add\+\_\+planes\+\_\+to\+\_\+primitives}} (const \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{uint\+\_\+vector}} \&plane\+Merge\+Labels, \mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&primitive\+Segments)
\begin{DoxyCompactList}\small\item\em Add final plane to primitives, compute a mask for display. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_af2030d3307593d3a880dec07fe53d97c}{add\+\_\+cylinders\+\_\+to\+\_\+primitives}} (const \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{intpair\+\_\+vector}} \&cylinder\+To\+Region\+Map, \mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&primitive\+Segments)
\begin{DoxyCompactList}\small\item\em Add final cylinders to primitives, compute a mask for display. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a602ab8dedad6aa64477ddd5c007ba8d1}{region\+\_\+growing}} (const uint x, const uint y, const \mbox{\hyperlink{namespacergbd__slam_a1c642e1c4dfceaa8c7409331bfc10b6b}{vector3}} \&seed\+Plane\+Normal, const double seed\+PlaneD)
\begin{DoxyCompactList}\small\item\em Recursively Grow a plane seed and merge it with it\textquotesingle{}s neighbors. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacergbd__slam_a0fe13c1b6f4e20bd00b1d8c76d6fcc53}{Matrixb}} \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9165bccb3b0055fa50bc7e14a8de1a24}{get\+\_\+connected\+\_\+components\+\_\+matrix}} (const cv\+::\+Mat \&segment\+Map, const size\+\_\+t number\+Of\+Planes) const
\begin{DoxyCompactList}\small\item\em Fill an association matrix that links connected plane components. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Main extraction class. Extracts shape primitives from an organized cloud of points. 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!cylinder\_segment\_unique\_ptr@{cylinder\_segment\_unique\_ptr}}
\index{cylinder\_segment\_unique\_ptr@{cylinder\_segment\_unique\_ptr}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{cylinder\_segment\_unique\_ptr}{cylinder\_segment\_unique\_ptr}}
{\footnotesize\ttfamily typedef std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_cylinder___segment}{Cylinder\+\_\+\+Segment}}$>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::cylinder\+\_\+segment\+\_\+unique\+\_\+ptr}}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae175d07a6ac399887ee4cd473b76fa41}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae175d07a6ac399887ee4cd473b76fa41}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!cylinders\_ptr\_vector@{cylinders\_ptr\_vector}}
\index{cylinders\_ptr\_vector@{cylinders\_ptr\_vector}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{cylinders\_ptr\_vector}{cylinders\_ptr\_vector}}
{\footnotesize\ttfamily typedef std\+::vector$<$\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab465ee5f8b6cc649497f2d291e07de46}{cylinder\+\_\+segment\+\_\+unique\+\_\+ptr}}$>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae175d07a6ac399887ee4cd473b76fa41}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::cylinders\+\_\+ptr\+\_\+vector}}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!intpair\_vector@{intpair\_vector}}
\index{intpair\_vector@{intpair\_vector}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{intpair\_vector}{intpair\_vector}}
{\footnotesize\ttfamily typedef std\+::vector$<$std\+::pair$<$int, int$>$ $>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::intpair\+\_\+vector}}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!plane\_segment\_unique\_ptr@{plane\_segment\_unique\_ptr}}
\index{plane\_segment\_unique\_ptr@{plane\_segment\_unique\_ptr}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{plane\_segment\_unique\_ptr}{plane\_segment\_unique\_ptr}}
{\footnotesize\ttfamily typedef std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_plane___segment}{Plane\+\_\+\+Segment}}$>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::plane\+\_\+segment\+\_\+unique\+\_\+ptr}}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1c6de1dae1c5b4783520c1720ad1bd7b}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1c6de1dae1c5b4783520c1720ad1bd7b}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!planes\_ptr\_vector@{planes\_ptr\_vector}}
\index{planes\_ptr\_vector@{planes\_ptr\_vector}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{planes\_ptr\_vector}{planes\_ptr\_vector}}
{\footnotesize\ttfamily typedef std\+::vector$<$\mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a201ea8e0b9952678eb64941e75c72a02}{plane\+\_\+segment\+\_\+unique\+\_\+ptr}}$>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1c6de1dae1c5b4783520c1720ad1bd7b}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::planes\+\_\+ptr\+\_\+vector}}\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!uint\_vector@{uint\_vector}}
\index{uint\_vector@{uint\_vector}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{uint\_vector}{uint\_vector}}
{\footnotesize\ttfamily typedef std\+::vector$<$uint$>$ \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::uint\+\_\+vector}}\hspace{0.3cm}{\ttfamily [protected]}}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a820def3cf19e327da91dd115f2df1ed9}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a820def3cf19e327da91dd115f2df1ed9}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!Primitive\_Detection@{Primitive\_Detection}}
\index{Primitive\_Detection@{Primitive\_Detection}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{Primitive\_Detection()}{Primitive\_Detection()}}
{\footnotesize\ttfamily rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::\+Primitive\+\_\+\+Detection (\begin{DoxyParamCaption}\item[{const uint}]{width,  }\item[{const uint}]{height,  }\item[{const uint}]{bloc\+Size = {\ttfamily 20},  }\item[{const float}]{min\+Cos\+Angle\+For\+Merge = {\ttfamily 0.9659f},  }\item[{const float}]{max\+Merge\+Distance = {\ttfamily 50.0f} }\end{DoxyParamCaption})}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em width} & The fixed depth image width \\
\hline
\mbox{\texttt{ in}}  & {\em height} & The fixed depth image height \\
\hline
\mbox{\texttt{ in}}  & {\em bloc\+Size} & Size of an image division, in pixels. \\
\hline
\mbox{\texttt{ in}}  & {\em min\+Cos\+Angle\+For\+Merge} & Minimum cosinus of the angle of two planes to merge those planes \\
\hline
\mbox{\texttt{ in}}  & {\em max\+Merge\+Distance} & Maximum distance between the center of two planes to merge those planes \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9f64424ca0ce70414c2df2022c32dc7f}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9f64424ca0ce70414c2df2022c32dc7f}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!````~Primitive\_Detection@{$\sim$Primitive\_Detection}}
\index{````~Primitive\_Detection@{$\sim$Primitive\_Detection}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{$\sim$Primitive\_Detection()}{~Primitive\_Detection()}}
{\footnotesize\ttfamily rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::$\sim$\+Primitive\+\_\+\+Detection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_af2030d3307593d3a880dec07fe53d97c}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_af2030d3307593d3a880dec07fe53d97c}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!add\_cylinders\_to\_primitives@{add\_cylinders\_to\_primitives}}
\index{add\_cylinders\_to\_primitives@{add\_cylinders\_to\_primitives}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{add\_cylinders\_to\_primitives()}{add\_cylinders\_to\_primitives()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::add\+\_\+cylinders\+\_\+to\+\_\+primitives (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{intpair\+\_\+vector}} \&}]{cylinder\+To\+Region\+Map,  }\item[{\mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&}]{primitive\+Segments }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Add final cylinders to primitives, compute a mask for display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cylinder\+To\+Region\+Map} & Associate a cylinder ID with all the planes IDs that composes it \\
\hline
\mbox{\texttt{ in,out}}  & {\em primitive\+Segments} & Container of shapes detected in this depth image \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a7380a8da1013d394a0e890fc1ff9fa27}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a7380a8da1013d394a0e890fc1ff9fa27}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!add\_planes\_to\_primitives@{add\_planes\_to\_primitives}}
\index{add\_planes\_to\_primitives@{add\_planes\_to\_primitives}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{add\_planes\_to\_primitives()}{add\_planes\_to\_primitives()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::add\+\_\+planes\+\_\+to\+\_\+primitives (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{uint\+\_\+vector}} \&}]{plane\+Merge\+Labels,  }\item[{\mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&}]{primitive\+Segments }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Add final plane to primitives, compute a mask for display. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em plane\+Merge\+Labels} & Container associating plane ID to global plane IDs \\
\hline
\mbox{\texttt{ in,out}}  & {\em primitive\+Segments} & Container of shapes detected in this depth image \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_aeea3bf02c163af62c6f3e5be9078a6ae}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_aeea3bf02c163af62c6f3e5be9078a6ae}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!find\_primitives@{find\_primitives}}
\index{find\_primitives@{find\_primitives}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{find\_primitives()}{find\_primitives()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::find\+\_\+primitives (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix\+Xf \&}]{depth\+Matrix,  }\item[{\mbox{\hyperlink{namespacergbd__slam_1_1features_1_1primitives_a353a99b78e30a56a60d54a47cf318705}{primitive\+\_\+container}} \&}]{primitive\+Segments }\end{DoxyParamCaption})}



Main compute function\+: computes the primitives in the depth imahe. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em depth\+Matrix} & Organized cloud of points, constructed from depth map \\
\hline
\mbox{\texttt{ out}}  & {\em primitive\+Segments} & Container of detected segments in depth image \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9165bccb3b0055fa50bc7e14a8de1a24}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a9165bccb3b0055fa50bc7e14a8de1a24}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!get\_connected\_components\_matrix@{get\_connected\_components\_matrix}}
\index{get\_connected\_components\_matrix@{get\_connected\_components\_matrix}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{get\_connected\_components\_matrix()}{get\_connected\_components\_matrix()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacergbd__slam_a0fe13c1b6f4e20bd00b1d8c76d6fcc53}{Matrixb}} rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::get\+\_\+connected\+\_\+components\+\_\+matrix (\begin{DoxyParamCaption}\item[{const cv\+::\+Mat \&}]{segment\+Map,  }\item[{const size\+\_\+t}]{number\+Of\+Planes }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Fill an association matrix that links connected plane components. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em segment\+Map} & \\
\hline
\mbox{\texttt{ in}}  & {\em number\+Of\+Planes} & Number of plane segments in segment map\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A symmetrical boolean matrix, indicating if a plane segment is connected to another plane segment 
\end{DoxyReturn}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a6612a5c01bb67707842ab5b883f8231d}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a6612a5c01bb67707842ab5b883f8231d}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!grow\_planes\_and\_cylinders@{grow\_planes\_and\_cylinders}}
\index{grow\_planes\_and\_cylinders@{grow\_planes\_and\_cylinders}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{grow\_planes\_and\_cylinders()}{grow\_planes\_and\_cylinders()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ad96ff3c75c6a7784c3a8f1f4b0102a65}{Primitive\+\_\+\+Detection\+::intpair\+\_\+vector}} rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::grow\+\_\+planes\+\_\+and\+\_\+cylinders (\begin{DoxyParamCaption}\item[{const uint}]{remaining\+Planar\+Cells }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



grow planes and find cylinders from those planes 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em remaining\+Planar\+Cells} & Unmatched plane count\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A container that associates a cylinder ID with all the planes IDs that composes it 
\end{DoxyReturn}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae722fbe4e5f4c84ce22ba26272a890ea}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ae722fbe4e5f4c84ce22ba26272a890ea}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!init\_histogram@{init\_histogram}}
\index{init\_histogram@{init\_histogram}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{init\_histogram()}{init\_histogram()}}
{\footnotesize\ttfamily uint rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::init\+\_\+histogram (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Initialize and fill the histogram bins. 

\begin{DoxyReturn}{Returns}
Number of initial planar surfaces 
\end{DoxyReturn}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a2432ff11db00aad60cdf4aac0a371c3d}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a2432ff11db00aad60cdf4aac0a371c3d}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!init\_planar\_cell\_fitting@{init\_planar\_cell\_fitting}}
\index{init\_planar\_cell\_fitting@{init\_planar\_cell\_fitting}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{init\_planar\_cell\_fitting()}{init\_planar\_cell\_fitting()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::init\+\_\+planar\+\_\+cell\+\_\+fitting (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Matrix\+Xf \&}]{depth\+Cloud\+Array }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Init plane\+Grid and cell\+Distance\+Tols. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em depth\+Cloud\+Array} & Organized point cloud extracted from depth images \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a776295f859bf74f880c444ad54b3b5a1}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a776295f859bf74f880c444ad54b3b5a1}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!merge\_planes@{merge\_planes}}
\index{merge\_planes@{merge\_planes}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{merge\_planes()}{merge\_planes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_ab3ed9416eca995f1a3dc2fc2795bb2db}{Primitive\+\_\+\+Detection\+::uint\+\_\+vector}} rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::merge\+\_\+planes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Merge close planes by comparing normals and MSE. 

\begin{DoxyReturn}{Returns}
Container of merged indexes\+: associates plane index to other plane index 
\end{DoxyReturn}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a602ab8dedad6aa64477ddd5c007ba8d1}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a602ab8dedad6aa64477ddd5c007ba8d1}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!region\_growing@{region\_growing}}
\index{region\_growing@{region\_growing}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{region\_growing()}{region\_growing()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::region\+\_\+growing (\begin{DoxyParamCaption}\item[{const uint}]{x,  }\item[{const uint}]{y,  }\item[{const \mbox{\hyperlink{namespacergbd__slam_a1c642e1c4dfceaa8c7409331bfc10b6b}{vector3}} \&}]{seed\+Plane\+Normal,  }\item[{const double}]{seed\+PlaneD }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Recursively Grow a plane seed and merge it with it\textquotesingle{}s neighbors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em x} & Start X coordinates \\
\hline
\mbox{\texttt{ in}}  & {\em y} & Start Y coordinates \\
\hline
\mbox{\texttt{ in}}  & {\em seed\+Plane\+Normal} & Normal of the plane to grow from (Components A, B, C of the standard plane equation) \\
\hline
\mbox{\texttt{ in}}  & {\em seed\+PlaneD} & D component of the plane to grow from \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a115d7b6c99fa776c20350d6c5be88524}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a115d7b6c99fa776c20350d6c5be88524}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!reset\_data@{reset\_data}}
\index{reset\_data@{reset\_data}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{reset\_data()}{reset\_data()}}
{\footnotesize\ttfamily void rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::reset\+\_\+data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Reset the stored data in prevision of another analysis. 



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8bd7311ff1c1968b338c80fa710b5f18}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8bd7311ff1c1968b338c80fa710b5f18}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!growTime@{growTime}}
\index{growTime@{growTime}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{growTime}{growTime}}
{\footnotesize\ttfamily double rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::grow\+Time}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8e4334b78d47adf54a76b32812c18080}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a8e4334b78d47adf54a76b32812c18080}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!initTime@{initTime}}
\index{initTime@{initTime}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{initTime}{initTime}}
{\footnotesize\ttfamily double rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::init\+Time}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_afa8239c91447b7a5b6f2590a7024e5b1}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_afa8239c91447b7a5b6f2590a7024e5b1}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!mergeTime@{mergeTime}}
\index{mergeTime@{mergeTime}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{mergeTime}{mergeTime}}
{\footnotesize\ttfamily double rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::merge\+Time}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_acee4e990aaeeec273775cf0fc944fa61}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_acee4e990aaeeec273775cf0fc944fa61}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!refineTime@{refineTime}}
\index{refineTime@{refineTime}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{refineTime}{refineTime}}
{\footnotesize\ttfamily double rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::refine\+Time}

\mbox{\Hypertarget{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1e6576f91cd41de4316f20c41cbf365a}\label{classrgbd__slam_1_1features_1_1primitives_1_1_primitive___detection_a1e6576f91cd41de4316f20c41cbf365a}} 
\index{rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}!resetTime@{resetTime}}
\index{resetTime@{resetTime}!rgbd\_slam::features::primitives::Primitive\_Detection@{rgbd\_slam::features::primitives::Primitive\_Detection}}
\doxysubsubsection{\texorpdfstring{resetTime}{resetTime}}
{\footnotesize\ttfamily double rgbd\+\_\+slam\+::features\+::primitives\+::\+Primitive\+\_\+\+Detection\+::reset\+Time}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/baptisteh/\+Documents/code/robots/\+RGB\+\_\+\+SLAM/\+RGB-\/\+D-\/\+SLAM/src/features/primitives/\mbox{\hyperlink{primitive__detection_8hpp}{primitive\+\_\+detection.\+hpp}}\item 
/home/baptisteh/\+Documents/code/robots/\+RGB\+\_\+\+SLAM/\+RGB-\/\+D-\/\+SLAM/src/features/primitives/\mbox{\hyperlink{primitive__detection_8cpp}{primitive\+\_\+detection.\+cpp}}\end{DoxyCompactItemize}
